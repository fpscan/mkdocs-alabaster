
<!DOCTYPE html>
<html>
<head>
  
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <title>MSVC Commandline &mdash; Alabaster</title>

    <link rel="shortcut icon" href="../../../../img/favicon.ico">
    <link rel="stylesheet" href="../../../../css/alabaster.css" type="text/css">
    <link rel="stylesheet" href="../../../../css/alabaster-overrides.css" type="text/css">

    

    
      <script src="../../../../search/main.js"></script>
    

    

    <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

    
  
</head>
<body>

  <div class="document">
    <div class="documentwrapper">
      <div class="bodywrapper">
        <div class="body" role="main">
          
            <h1 id="windows-98-seme2000-command-line-compilation-development-guide">Windows (98 SE/ME/2000) Command-line Compilation / Development Guide<a class="headerlink" href="#windows-98-seme2000-command-line-compilation-development-guide" title="Permanent link">¶</a></h1>
<h2 id="environment-configuration">Environment configuration<a class="headerlink" href="#environment-configuration" title="Permanent link">¶</a></h2>
<p>To compile RetroArch on the command-line targeting Windows NT4, Windows 98SE, Windows Millenium Edition or Windows 2000, we will use a combination of the MSYS2 shell and Microsoft Visual C++ 2005.</p>
<p>This guide assumes the host OS is Windows Vista or later, as MSYS2 cannot be installed on anything older.</p>
<p>Prerequisites:</p>
<p><a href="https://s3.amazonaws.com/bparker/dxsdk_feb2005.exe">DirectX SDK February 2005</a> (any version up to December 2006 should work to target 98SE)</p>
<p><a href="http://download.microsoft.com/download/A/9/1/A91D6B2B-A798-47DF-9C7E-A97854B7DD18/VC.iso">Visual C++ 2005 Express</a> (or Pro)</p>
<p><a href="https://www.microsoft.com/en-us/download/details.aspx?id=12261">Windows Server 2003 SP1 Platform SDK</a></p>
<p>!!! Note
    Windows 98 Second Edition is supported, but First Edition has not been tested. If you do try to target it, make sure that your DirectX SDK is no newer than July 2004.</p>
<p>!!! Note
    In lieu of having to install the full Visual Studio suite, a minimal toolchain can be created by copying the <code>Common7</code> and <code>VC</code> folders from an installation on another machine (usually located at <code>C:\Program Files (x86)\Microsoft Visual Studio 8</code>). For this example we will use a root folder of <code>C:\mini-msvc</code> to hold everything, and those two folders from the MSVC installation will be copied into a directory under the root folder called <code>msvc2005</code>.</p>
<p>!!! Note
    The same thing can be done with the DirectX and Platform SDKs, just copy the <code>Include</code> and <code>Lib</code> folders from an existing installation (usually located at <code>C:\Program Files (x86)</code> in <code>Microsoft DirectX SDK (June 2010)</code> and <code>Microsoft Platform SDK</code> respectively) into folders in the root such as <code>dx9_june2010</code> and <code>plat2003sp1</code>.</p>
<h2 id="retroarch-compilation">RetroArch Compilation<a class="headerlink" href="#retroarch-compilation" title="Permanent link">¶</a></h2>
<h3 id="building-retroarch">Building RetroArch<a class="headerlink" href="#building-retroarch" title="Permanent link">¶</a></h3>
<p>First you will need the MSYS2 distribution. You can download the MSYS2 installer from <a href="http://msys2.github.io/">here</a>.</p>
<p>Follow the installation instructions and once finished start the MSYS2 shell.</p>
<p>First we need to install the <code>make</code> package:</p>
<pre><code>pacman -S make
</code></pre>
<p>Then we need to obtain RetroArch's source tree.</p>
<p>You can clone the repository directly from <a href="https://github.com/libretro/RetroArch">GitHub</a>:</p>
<pre><code>git clone https://github.com/libretro/RetroArch.git retroarch
</code></pre>
<p>For subsequent builds you will need to pull the changes from the repo</p>
<pre><code>cd retroarch
git pull
</code></pre>
<p>To compile RetroArch, run:</p>
<pre><code>make -f Makefile.griffin platform=windows_msvc2005_x86
</code></pre>
<p>If you do not want to compile in DirectX support, you can add <code>HAVE_DIRECTX=0</code> to the end of the command line. Currently it is necessary to disable DirectX support when targeting NT4.</p>
<h3 id="minimal-toolchain">Minimal Toolchain<a class="headerlink" href="#minimal-toolchain" title="Permanent link">¶</a></h3>
<p>If you are only using a minimal toolchain as described above, you can instead specify the location of the folders <code>msvc2005</code>, <code>dx9_feb2005</code> and <code>plat2003sp1</code> like this:</p>
<pre><code>make -f Makefile.griffin platform=windows_msvc2005_x86 VS80COMNTOOLS="c:\\mini-msvc\\msvc2005\\Common7\\Tools\\" INETSDK="c:\\mini-msvc\\plat2003sp1" DXSDK_DIR="c:\\mini-msvc\\dx9_feb2005"
</code></pre>
<p>!!! Note
    The trailing slash at the end of the COMNTOOLS variable is mandatory.</p>
<p>Also, any of the paths can optionally be left out to use the system version instead.</p>
<h3 id="finished">Finished<a class="headerlink" href="#finished" title="Permanent link">¶</a></h3>
<p>After the build is finished you should be able to find retroarch.exe in the current directory. To start the newly compiled retroarch, copy the .exe file to a new folder where its configuration files and folders will be automatically created on first run. Running the .exe file inside of the source directory is not recommended as it will overwrite existing files.</p>
            
          
        </div>
      </div>
    </div>
    <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
      <div class="sphinxsidebarwrapper">
        
          
            
  <p class="logo">
    <a href="../../../..">
      <img class="logo" src="../../../../logo.png" title="Alabaster">
    </a>
  </p>
  



          
            



<h3>Table Of Contents</h3>

<nav>
  
  
    <ul>
    
      <li><a href="#environment-configuration">Environment configuration</a></li>
      <ul>
    
  </ul>
    
      <li><a href="#retroarch-compilation">RetroArch Compilation</a></li>
      <ul>
    
      <li><a href="#building-retroarch">Building RetroArch</a></li>
      <ul>
    
  </ul>
    
      <li><a href="#minimal-toolchain">Minimal Toolchain</a></li>
      <ul>
    
  </ul>
    
      <li><a href="#finished">Finished</a></li>
      <ul>
    
  </ul>
    
  </ul>
    
  </ul>
  

  
    <hr>
    <ul>
      
        <li class="toctree-l1"><a href="https://github.com/notpushkin/mkdocs-alabaster">Fork me on GitHub</a></li>
      
    </ul>
  
</nav>
          
            
  <h3>Related Topics</h3>
  <ul>
    
      <li>Previous: <a href="../windows2000/" title="previous chapter">
        MSVC IDE
      </a></li>
    
    
      <li>Next: <a href="../windows98/" title="next chapter">
        MSVC IDE
      </a></li>
    
  </ul>

          
            <div id="searchbox" style="display: none;" role="search">
  <h3>Quick search</h3>
  <form class="search" action="../../../../search.html" method="get">
    <input name="q" type="text">
    <input value="Go" type="submit">
  </form>
  <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
  </p>
</div>
<script type="text/javascript">
  document.getElementById("searchbox").style.display = "block";
</script>
          
        
      </div>
    </div>
    <div class="clearer"></div>
  </div>

  
    <div class="footer">
      
        &copy; 2019 Alexander Pushkov
      
      
        |
        Powered by <a href="http://www.mkdocs.org">mkdocs 1.1</a>
        &amp; <a href="https://github.com/iamale/mkdocs-alabaster">mkdocs-alabaster</a>
      
    </div>
  

  <!--
  MkDocs version      : 1.1
  Docs Build Date UTC : 2020-05-14 06:50:09
  -->
</body>
</html>